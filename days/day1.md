# やること

- READMEに書いた疑問をもとに、拾い読みをしてそれぞれについて文章で説明できるようにする

## やらないこと

- 実装は読み飛ばす
- 1つ1つに時間をかけすぎない

## 補足

- 理解できないものもありそうだが、なんとなくこんなものかなーと想像できればいい。
- 理解できないものもありそうだが、なんとなくこんなものかなーと想像できればいい。

## 最初の疑問疑問

- 字句解析とは何か
  - ソースコードを解析するために扱いやすい状態にする必要がある
  - ソースコード→トークン列→抽象構文木という順番で変換させる
  - この時 **ソースコードをトークン列に変換するための行為を字句解析** という
  - この字句解析はレキサー、トーカナイザー、スキャナーとも呼ばれる
- トークンとは何か
  - 分類しやすいデータ構造
  - ソースコードを字句解析にかけ、分類したのちに複数のトークン（トークン列）に分ける
- トークナイズとは何か
  - おそらく構文解析によって、ソースコードをトークン化すること
  - 構文解析はトーカナイザーとも呼ばれるので、トークナイザーが解析する = トークナイズというのでは？
- REPLとは何か？
  - Read, Eval, Print, Loopの略
  - 読み込み、評価、表示、繰り返しの略
  - コンソールやインタラクティブモードとも呼ばれる
  - インタプリタに入力を読み込ませ、評価させ、結果や出力を表示して最初に戻る
  - スクリプトを実行するためのもの暗い感じで良さそう
- 構文解析とは何か
  - パーサーとも言う
  - ソフトウェアを構成する部品の1つ
  - 入力データを受け取りデータ構造を構築する
  - データ構造は多くの場合、構文木や抽象構文木などの階層的な構造で表現される
  - その過程で入力が正しい構文なのかをチェックする
  - 字句解析はあくまで文字列からトークン列を作成するもの
  - 構文解析は抽象構文木といったデータ構造の構築と構文チェックが主な目的になる
- 抽象構文器とは何か
  - ソースコードの内部表現として構文木(SyntaxTree)抽象構文木(Abstract syntax tree)が使われる
  - 抽象というのはソースコードでは含まれている細かい表現が、このSyntaxTreeにした時に省かれるために抽象という表現を使う
  - ASTは全ての構文解析で使えるような普遍的なものは存在しない
  - 同じ考え方で似ているが、言語に依存する
- 木表現とは何か
  - ↑上記のSyntax Treeのことだと思われる
  - 冒頭のところの1箇所でしか出てきてなくて、Syntax Tree, Abstract syntax treeをそれぞれ合わせて木表現と言っていただけだと思われ
- 評価器とは何か
  - ASTを評価することが役割
  - 大層な名前ではあるけれど、内部ではeval関数を実行しているだけ
  - evalはAST nodeに対して再起的に行われる
  - 抽象ノードを評価して独自のObjectとして定義する
  - AST nodeが本当に正しいものなのかを評価するものってこと？？
- 内部オブジェクトシステムとは何か
  - これも最初以降出てきてない
  - 一番オブジェクトという表現が出てきているのがevalの箇所
  - evalが返すデータ構造としてオブジェクトと表現されている
  - ホスト言語（Go）によってこのデータ構造は異なる可能性はある
  - 今回の場合オブジェクトを使ってevalが評価したデータ構造を表現するということで内部オブジェクトシステムと表現したのかも？


### わからなかったこと

- evalの仕組みがしっくり来なかった
  - 特にAST nodeでなぜ不十分なのかがよくわからなかった
  - 評価という名の通り、nodeの生成時点では特にエラーなどは起きず、この箇所でエラーを検知するみたいなものだったら納得かも
  - 実際に実装してみたらわかる可能性が高い

### 新たな疑問

- JSONParserと構文解析は同じもの？
- パーサージェネレーターとは？
- 文脈自由文法とは？
- トップダウン構文解析とボトムアップ構文解析とは？
- アーリー法、予測的構文解析とは？
- AST nodeとは


### この後

140pぐらいまででevalの実装が完成する。これが完成したらインタプリタの内部構造のほとんどが完成する？
関数や条件分岐, string構造などプログラミング言語にある最低限の機能を追加していくことでさらに深掘りをかける

直近の目標はとりあえず140pまでの実装を超速でやって、残りの230pまでの仕上げを頑張るって感じになりそう

